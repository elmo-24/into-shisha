# アプリ名

In To Shisha  
To people all over the world who love shisha.

本アプリは、シーシャレビューsnsアプリです。

# 概要

みなさんは**シーシャ**をご存知ですか?  
中近東で発明された水タバコのことです。  
煙が水を通ることで冷やされ、多種多様のフレーバーを組み合わせることで
*味のついた煙*を楽しむことができます。

近年シーシャの認知度は日本国内で高まっている一方で、
シーシャ業界にはまだ関連するアプリが存在しません。

本アプリは、訪問した店舗やオーダーしたフレーバーを記録・共有できる
シーシャに特化したsnsアプリです。

# 本番環境

- URL  
[IN TO SHISHA](https://into-shisha.herokuapp.com/)

- テスト用アカウント

- Basic認証  
ID admin  
Pass 2222  

# 利用方法

ユーザーは新規登録をして訪問したシーシャ屋のレビューを投稿できる。  
レビューは共有でき、お気に入り登録することもできる。  
店舗情報はユーザー自身で登録でき、どのユーザーでも編集が可能。  
ユーザー同士がコメントでコミュニケーションを取ることができ、フォローすることも可能。  

# 制作背景

1. ペルソナ
- 20〜30歳の男女
- 大学生〜社会人
- シーシャ屋で1人で作業をしたり、友人と話したりすることが趣味

2. ペルソナの課題
- シーシャの店の情報は、店によってinstagramやtwitterのいずれかに散らばっているため、
まとまってシーシャ屋の店舗情報や口コミを見れたらいい
- さらにシーシャ好きの人たちでコミュニケーションが取れれば楽しそう

3. ユーザーストーリー
- シーシャレビューの投稿・共有機能
- ユーザー管理機能
- レビューに対してコメントをつけられる機能
- レビューに対してお気に入りできる機能
- 店舗情報の管理機能
- 店舗情報の検索機能
- ユーザー同士のフォロー機能

# 洗い出した要件

| 優先順位 | 機能 | 目的 | 詳細 | ストーリー | 見積もり |
| --------|-----|------|-----|----------|---------|
| 3 |ユーザー管理機能| ユーザーには新規登録してもらった上でアプリケーションを活用してもらうため | 新規登録・ログイン・ログアウトがユーザー自身でできるようにする | 「新規登録」ボタンから情報を入力することによってアプリケーションのさまざまな機能を利用できる。既存ユーザーは「ログイン」ボタンからログインでき、「ログアウト」ボタンからログアウトできる | 2 |
| 3 | 店舗レビュー機能 | ①自身の「行ったことのある店」としての記録を残すため②ユーザー同士で共有することで他ユーザーが特定のレビューをもとに次に訪問する店を決定したり、オーダーするフレーバーの参考にする | ①自身が「いつ」「誰と」「どの(どのような)店で」「どういったオーダーを」「どのくらいの料金で」行なったかを記録する②他ユーザーのレビューをもとに「次に行ってみたい店」や「次にオーダーしてみたいフレーバー」を自身が決定する | ①ユーザーのマイページ上から自身が今まで投稿したレビューの全てを一覧で表示させる②トップページや店舗詳細ページからレビューの投稿一覧を閲覧することができる。また、マイページ上からもお気に入りしたレビュー一覧がいつでも確認できる(お気に入り機能 | 3 |
| 3 | レビュー一覧表示機能 | 全てのユーザーが投稿したレビュー一覧を表示する | ユーザーが投稿したレビューのうちの「画像」「訪問日」「フレーバー」「メッセージ」「店名」を表示させる | トップページがレビュー一覧表示ページになっており画面半分より下にユーザーが投稿したレビューのうちの「画像」「訪問日」「フレーバー」「メッセージ」「店名」を表示させる | 2 |
| 3 | レビュー編集機能 | レビュワー本人のみ後から編集できる | ユーザーが、自身の投稿したレビューの詳細ページに遷移すると、レビュー詳細の下部に「編集」/「削除」が表示され、ボタンを選択すると編集できる | ユーザーが、自身の投稿したレビューの詳細ページに遷移すると、レビュー詳細の下部に「編集」/「削除」が表示される。「編集」を選択すると、投稿したレビュー内容は引き継がれたまま、レビュー情報を編集することができる | 2 |
| 3 | レビュー削除機能 | レビュワー本人のみ後から削除できる | ユーザーが、自身の投稿したレビューの詳細ページに遷移すると、レビュー詳細の下部に「編集」/「削除」が表示され、ボタンを選択すると削除できる | ユーザーが、自身の投稿したレビューの詳細ページに遷移すると、レビュー詳細の下部に「編集」/「削除」が表示される。「削除」を選択すると、投稿したレビューは削除される | 2 |
| 3 | マイページ機能 | ユーザーのマイページでユーザー自身の情報を確認する | ログイン状態のユーザーがヘッダーのアイコンのマークをクリックするとマイページに遷移する | ログイン状態のユーザーがヘッダーのアイコンのマークをクリックするとマイページに遷移するマイページ上で今まで投稿したレビュー一覧を表示させる | 3 |
| 3 | コメント投稿機能 | レビューに対してコメントをつけることでユーザー同士のコミュニケーションを図る | ユーザーが投稿したレビューに対して感想や気になる点などをコメントできる | レビュー詳細ページにてコメント入力フォームに入力し送信するとその下に「コメントを投稿したユーザー」と「コメント内容」が表示される | 2 |
| 3 | 店舗情報管理機能 | 店舗の情報を管理する | ①店舗情報を登録できるのはユーザー②店舗情報には大きく分けて「店情報」と「利用情報」と「設備情報」と「補足情報」について入力してもらう③店舗情報の編集は後から誰でも可能④店舗情報がまだない店に対して最初に訪れたユーザーに店舗登録をしてもらう | 店舗情報には大きく分けて「店情報」と「利用情報」と「設備情報」と「補足情報」について入力してもらう | 4 |
| 3 | 店舗検索機能 | 店舗を、特定の条件から絞り込む | 都道府県や店名から店舗情報を検索できる | トップページの検索欄から都道府県を選択するかもしくは店名を入力して店舗を検索できる | 2 |
| 3 | SNS認証 | ①ユーザーのアカウント登録方法の選択肢を増やす。②ユーザーにとって手軽に登録できるようにする。 | SNSアカウント(Googleアカウント、Facebookアカウント)を利用したログイン方法を選択肢として追加する | ユーザーアカウントの登録方法を「手打ち入力」「Googleアカウントを利用」「Facebookアカウントを利用」の3つから選べるようにする | 3 |
| 2 | ユーザーフォロー機能 | ただのレビュー投稿アプリに止まらず、ユーザー同士でSNSとしてコミュニケーションを取れるようにする。 | お気に入りや友人や有名人を「フォローする」ボタンからフォローできる | ユーザーマイページ上でユーザーのフォロー・フォロワーが確認できる。また、その一覧から相手の詳細ページに遷移できる | 3 |
| 2 | リプライ機能 | SNSとしてコミュニケーションの活性化を図るため特定のコメントに対して返信ができるようにする | レビューに対して行われた特定のコメントに対して他のユーザーがリプライをすることができる | レビュー詳細ページのコメント一覧から特定のコメントを選択し、そのコメントに対するリプライをすることができる | 4 |
| 2 | お気に入り機能 | ユーザーにとって自身がいいと思ったお気に入りのレビューのみをまとめて後から見れるようにする | 他のユーザーが投稿した特定のレビューに対して他のユーザーがお気に入り(ブックマーク)できる | レビュー一覧(トップページ)・レビュー詳細ページから特定のレビューに対して「お気に入り(ブックマーク)」に追加することができる | 3 |
| 1 | タグ機能 | 店舗が「どのような雰囲気なのか」をユーザーが瞬間的にイメージしやすくする | 店舗それぞれに対して、「店内雰囲気」や「店の内装系統」のタグをつける | 店舗詳細ページに店に関する雰囲気や系統やバイブスをタグで表示させる | 3 |
| 1 | タグ検索機能 | ユーザーが全国の店舗を絞りやすくするため | タグ機能に対してタグのみで検索ができるようにする | 特定のタグをクリックするとユーザーの気になる「店の雰囲気」や「系統」に合致するもののみを一覧で表示させる | 4 |
| 1 | ユーザー情報編集機能 | 不定期でプロフィール画像を変えたりプロフィールを変えたりするため | ユーザー情報に関してニックネーム、アイコン、プロフィールなどが変更できるようにする | ユーザー情報に関して、いつでも、マイページ上からニックネーム、アイコン、プロフィールなどが変更できるようにする | 4 |




# DEMO
 


# 工夫したポイント


# 開発環境

# 課題と実装予定の機能

# ローカルでの動作方法
- Ruby : ruby 2.6.5p114 (2019-10-01 revision 67812)
- Ruby on rails : Rails 6.0.3.5  
% git clone https://github.com/elmo-24/into-shisha.git
% bundle install
% rails db:migrate
% rails s

# DB設計
## users テーブル

| Column             | Type     | Options                   |
| ------------------ | -------- | ------------------------- |
| nickname           | string   | null: false               |
| email              | string   | null: false, unique: true |
| encrypted_password | string   | null: false               |
| birth_date         | date     | null: false               |

### Association

- has_many :reviews
- has_many :comments
- has_many :stores

## reviews テーブル

| Column                | Type        | Options                        |
| --------------------- | ----------- | ------------------------------ |
| visit_date            | date        | null: false                    |
| message               | text        | null: false                    |
| flavor                | string      | null: false                    |
| companion_id          | integer     | null: false                    |
| price                 | string      | null: false                    |
| user                  | references  | null: false, foreign_key: true |
| store                 | references  | null: false, foreign_key: true |



### Association

- belongs_to :user
- has_many :comments
- belongs_to :store

## comments テーブル

| Column | Type       | Options                        |
| ------ | ---------- | ------------------------------ |
| user   | references | null: false, foreign_key: true |
| review | references | null: false, foreign_key: true |
| text   | text       | null: false                    |

### Association

- belongs_to :user
- belongs_to :review

## stores テーブル

| Column           | Type       | Options                        |
| ---------------- | ---------- | ------------------------------ |
| store_name       | string     | null: false                    |
| store_type_id    | integer    |                                |
| postal_code      | string     | null: false                    |
| prefecture_id    | integer    | null: false                    |
| city             | string     | null: false                    |
| house_number     | string     | null: false                    |
| phone_number     | string     | null: false                    |
| building_name    | string     |                                |
| access           | string     | null: false                    |
| home_page        | string     |                                |
| day_off          | string     |                                |
| opening_hours    | string     |                                |
| minimum_charge   | string     | null: false                    |
| price_info       | string     |                                |
| vibe_id          | integer    |                                |
| bring_id         | integer    |                                |
| concent_id       | integer    |                                |
| alcohol_id       | integer    |                                |
| smoke_id         | integer    |                                |
| flavor_sale_id   | integer    |                                |
| wifi_id          | integer    |                                |
| card_id          | integer    |                                |
| additional_info  | text       |                                |
| user             | references | null: false, foreign_key: true |

### Association

- belongs_to :user

